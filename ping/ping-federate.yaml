global:
  ingress:
    enabled: true
  license:
    secret:
      devOps: devops-secret

pingfederate-admin:
  enabled: true

  image:
    name: pingfederate
    tag: "latest"
    pullPolicy: IfNotPresent

  secretVolumes:
    pingfederate-license:
      items:
        pingfederate.lic: /opt/in/instance/server/default/conf/pingfederate.lic

  container:
    resources:
      requests:
        cpu: 0
        memory: 2Gi
      limits:
        cpu: 2
        memory: 6Gi

  envs:
    SERVER_PROFILE_URL: "https://github.com/Atharv-lab-91/ping-server-profile.git"
    SERVER_PROFILE_PATH: "baseline/pingfederate"
    SERVER_PROFILE_BRANCH: "main"
    PING_IDENTITY_ACCEPT_EULA: "YES"
    PF_ADMIN_PUBLIC_HOSTNAME: "localhost:9999"
    PF_ADMIN_PUBLIC_BASEURL: "https://localhost:9999"

  # Inject all passwords directly from the Kubernetes secret
  secrets:
    PING_IDENTITY_PASSWORD: "ping-admin-secrets:PING_IDENTITY_PASSWORD"
    administrativeAccounts_items_Administrator_password: "ping-admin-secrets:PING_IDENTITY_PASSWORD"
    passwordCredentialValidators_items_simple_configuration_tables_rows_fields_Confirm_Password_value: "ping-admin-secrets:passwordCredentialValidators_items_simple_configuration_tables_rows_fields_Confirm_Password_value"
    PRIVATE_KEYSTORE_PIN: "ping-admin-secrets:PRIVATE_KEYSTORE_PIN"
    keyPairs_signing_items_devsigningcert_devsigningcert_password: "ping-admin-secrets:keyPairs_signing_items_devsigningcert_devsigningcert_password"
    passwordCredentialValidators_items_simple_configuration_tables_rows_fields_Password_value: "ping-admin-secrets:passwordCredentialValidators_items_simple_configuration_tables_rows_fields_Password_value"

  workload:
    type: Deployment

  services:
    https:
      enabled: true
      serviceType: NodePort
      servicePort: 9999
      containerPort: 9999
      nodePort: 30099
      dataService: true
