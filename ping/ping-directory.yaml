global:
  ingress:
    enabled: true
  license:
    secret:
      devOps: devops-secret
 
pingdirectory:
  enabled: true
 
  image:
    repository: pingidentity
    tag: "latest"
    pullPolicy: IfNotPresent

  rootUserPasswordSecret:
    name: pingdirectory-root-password
    key: root-user-password
 
  secretVolumes:
    pingdirectory-license:
      items:
        pingdirectory.lic: /run/secrets/pingdirectory.lic
 
  envs:
    SERVER_PROFILE_URL: "https://github.com/Atharv-lab-91/ping-server-profile.git"
    SERVER_PROFILE_PATH: "baseline/pingdirectory"
    SERVER_PROFILE_BRANCH: "main"
    PING_IDENTITY_ACCEPT_EULA: "YES"
    MAKELDIF_USERS: "100"
    ENABLE_INSECURE_REMOTE_EXTENSIONS: "true"
    ALLOW_WEAK_ROOT_USER_PASSWORD: "true"

#  rootUserPasswordSecret:
#    name: pingdirectory-root-password
#  envFrom:
#    - secretRef:
#        name: pingdirectory-root-password

  container:
    resources:
      requests:
        cpu: 50m
        memory: 2Gi
      limits:
        cpu: 2
        memory: 8Gi
    startupProbe:
      exec:
        command:
          - "/opt/liveness.sh"
      periodSeconds: 30
      failureThreshold: 6
 
  workload:
    type: StatefulSet
    podSecurityContext:
      fsGroup: 9031
    statefulSet:
      podManagementPolicy: OrderedReady
      persistentvolume:
        enabled: true
        volumes:
          out-dir:
            mountPath: /opt/out
            persistentVolumeClaim:
              resources:
                requests:
                  storage: 8Gi
 
  service:
    https:
      enabled: true
      type: NodePort
      servicePort: 1443
      containerPort: 1443
      nodePort: 31443
    ldap:
      enabled: true
      type: NodePort
      servicePort: 1389
      containerPort: 1389
      nodePort: 31389
    ldaps:
      enabled: true
      type: NodePort
      servicePort: 1636
      containerPort: 1636
      nodePort: 31636
    rest:
      enabled: true
      type: NodePort
      servicePort: 2443
      containerPort: 2443
      nodePort: 32443
 
pingdataconsole:
  enabled: true
  defaultLogin:
    server:
      host: ping-directory-pingdirectory
      port: 636